% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/algebraic-api.R
\name{build_diagram}
\alias{build_diagram}
\title{Build a diagram from specifications}
\usage{
build_diagram(..., reset_ids = TRUE)
}
\arguments{
\item{...}{Stock specs, flow connections, and variable specs}

\item{reset_ids}{Logical; if TRUE, reset ID counter (default TRUE)}
}
\value{
StockFlowDiagram object
}
\description{
Takes a list of stock, flow, and variable specifications and
constructs a StockFlowDiagram. As of version 0.2.0, stocks referenced
in flow connections are automatically included, so explicit stock
specifications are optional if they appear in connections.
}
\details{
Stocks can be specified explicitly or implicitly:
- Explicit: Pass stock specs directly as arguments
- Implicit: Stocks referenced in flow connections are automatically added
- Isolated stocks (no flows) must be specified explicitly
- Explicit specifications take precedence over implicit
}
\examples{
\dontrun{
# Define components
S <- stock("S", initial = 1000)
I <- stock("I", initial = 1)
R <- stock("R", initial = 0)

infection <- flow("infection",
  rate = function(inputs, params) params$beta * inputs$S * inputs$I
)

recovery <- flow("recovery",
  rate = function(inputs, params) params$gamma * inputs$I
)

# Old style (explicit stocks - still works)
sir1 <- build_diagram(
  S, I, R,
  S \%->\% infection \%->\% I,
  I \%->\% recovery \%->\% R
)

# New style (automatic stock inclusion)
sir2 <- build_diagram(
  S \%->\% infection \%->\% I,
  I \%->\% recovery \%->\% R
)  # S, I, R automatically added!
}

}
