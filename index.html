<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>openstockflow ‚Ä¢ Categorical Stock-Flow Modeling ‚Ä¢ openstockflow</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/Atkinson_Hyperlegible-0.4.10/font.css" rel="stylesheet">
<link href="deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="openstockflow ‚Ä¢ Categorical Stock-Flow Modeling">
<meta name="description" content="Build compositional stock-flow models using category theory and functorial semantics. Supports both pipe-based and algebraic APIs.">
<meta property="og:description" content="Build compositional stock-flow models using category theory and functorial semantics. Supports both pipe-based and algebraic APIs.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">openstockflow</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ianmoran11/openstockflow" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="openstockflow">openstockflow<a class="anchor" aria-label="anchor" href="#openstockflow"></a>
</h1></div>
<!-- badges: start -->

<blockquote>
<p>üìñ <strong><a href="https://ianmoran11.github.io/openstockflow/">View full documentation website ‚Üí</a></strong></p>
</blockquote>
<p><strong>openstockflow</strong> brings categorical stock-flow modeling to R, enabling you to build compositional dynamical systems using decorated cospans and functorial semantics.</p>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>Stock-flow diagrams are a visual and mathematical framework for modeling systems with: - <strong>Stocks</strong> (state variables) ‚Äî quantities that accumulate over time - <strong>Flows</strong> (rate processes) ‚Äî transfers between stocks - <strong>Compositional structure</strong> ‚Äî build complex models from simpler components</p>
<div class="section level3">
<h3 id="why-openstockflow">Why openstockflow?<a class="anchor" aria-label="anchor" href="#why-openstockflow"></a>
</h3>
<ul>
<li>üéØ <strong>Two APIs</strong>: Choose algebraic operators (<code>%-&gt;%</code>, <code>%+%</code>) or pipe-based syntax</li>
<li>üî¨ <strong>Rigorous math</strong>: Based on category theory and functorial semantics</li>
<li>üß© <strong>Compositional</strong>: Assemble models from reusable components</li>
<li>üìä <strong>Integrated</strong>: Works with <code>deSolve</code>, <code>tidyverse</code>, <code>ggplot2</code>, <code>ggraph</code>
</li>
<li>üéì <strong>Well-documented</strong>: Comprehensive vignettes and examples</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version from GitHub:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ianmoran11/openstockflow"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="section level3">
<h3 id="algebraic-api-v020">Algebraic API (v0.2.0+)<a class="anchor" aria-label="anchor" href="#algebraic-api-v020"></a>
</h3>
<p>Build an SIR epidemic model with automatic stock inclusion:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ianmoran11/openstockflow" class="external-link">openstockflow</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define stocks</span></span>
<span><span class="va">S</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stock.html">stock</a></span><span class="op">(</span><span class="st">"S"</span>, initial <span class="op">=</span> <span class="fl">999</span><span class="op">)</span></span>
<span><span class="va">I</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stock.html">stock</a></span><span class="op">(</span><span class="st">"I"</span>, initial <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">R</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stock.html">stock</a></span><span class="op">(</span><span class="st">"R"</span>, initial <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define flows</span></span>
<span><span class="va">infection</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flow.html">flow</a></span><span class="op">(</span><span class="st">"infection"</span>,</span>
<span>  rate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">params</span><span class="op">$</span><span class="va">beta</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">S</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">I</span> <span class="op">/</span> <span class="fl">1000</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">recovery</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/flow.html">flow</a></span><span class="op">(</span><span class="st">"recovery"</span>,</span>
<span>  rate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="va">params</span><span class="op">$</span><span class="va">gamma</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">I</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build model (stocks automatically included!)</span></span>
<span><span class="va">sir</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">S</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">infection</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">I</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>       <span class="op">(</span><span class="va">I</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">recovery</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">R</span><span class="op">)</span></span>
<span></span>
<span><span class="va">diagram</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/finalize.html">finalize</a></span><span class="op">(</span><span class="va">sir</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Solve the ODE system</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/solve_diagram.html">solve_diagram</a></span><span class="op">(</span></span>
<span>  <span class="va">diagram</span>,</span>
<span>  times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>beta <span class="op">=</span> <span class="fl">0.5</span>, gamma <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Visualize</span></span>
<span><span class="fu"><a href="reference/plot_solution.html">plot_solution</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pipe-based-api">Pipe-Based API<a class="anchor" aria-label="anchor" href="#pipe-based-api"></a>
</h3>
<p>Alternatively, use the pipe-based syntax:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ianmoran11/openstockflow" class="external-link">openstockflow</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">diagram</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/stock_flow_diagram.html">stock_flow_diagram</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_stock.html">add_stock</a></span><span class="op">(</span><span class="st">"S"</span>, initial <span class="op">=</span> <span class="fl">999</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_stock.html">add_stock</a></span><span class="op">(</span><span class="st">"I"</span>, initial <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_stock.html">add_stock</a></span><span class="op">(</span><span class="st">"R"</span>, initial <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_flow.html">add_flow</a></span><span class="op">(</span><span class="st">"infection"</span>,</span>
<span>    from <span class="op">=</span> <span class="st">"S"</span>,</span>
<span>    to <span class="op">=</span> <span class="st">"I"</span>,</span>
<span>    rate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">params</span><span class="op">$</span><span class="va">beta</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">S</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">I</span> <span class="op">/</span> <span class="fl">1000</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="reference/add_flow.html">add_flow</a></span><span class="op">(</span><span class="st">"recovery"</span>,</span>
<span>    from <span class="op">=</span> <span class="st">"I"</span>,</span>
<span>    to <span class="op">=</span> <span class="st">"R"</span>,</span>
<span>    rate <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">inputs</span>, <span class="va">params</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="va">params</span><span class="op">$</span><span class="va">gamma</span> <span class="op">*</span> <span class="va">inputs</span><span class="op">$</span><span class="va">I</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/solve_diagram.html">solve_diagram</a></span><span class="op">(</span></span>
<span>  <span class="va">diagram</span>,</span>
<span>  times <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span>, by <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  params <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>beta <span class="op">=</span> <span class="fl">0.5</span>, gamma <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="reference/plot_solution.html">plot_solution</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="key-features">Key Features<a class="anchor" aria-label="anchor" href="#key-features"></a>
</h2>
<div class="section level3">
<h3 id="compositional-modeling">Compositional Modeling<a class="anchor" aria-label="anchor" href="#compositional-modeling"></a>
</h3>
<p>Compose models using categorical operations:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create open diagrams with exposed interfaces</span></span>
<span><span class="va">sir_open</span> <span class="op">&lt;-</span> <span class="fu">open_diagram</span><span class="op">(</span><span class="va">sir_diagram</span>, interface <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">seir_open</span> <span class="op">&lt;-</span> <span class="fu">open_diagram</span><span class="op">(</span><span class="va">seir_diagram</span>, interface <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S"</span>, <span class="st">"R"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compose via pushout</span></span>
<span><span class="va">combined</span> <span class="op">&lt;-</span> <span class="fu">compose_diagrams</span><span class="op">(</span><span class="va">sir_open</span>, <span class="va">seir_open</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stratification">Stratification<a class="anchor" aria-label="anchor" href="#stratification"></a>
</h3>
<p>Stratify models by age, sex, or risk groups using pullbacks:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Stratify by age groups</span></span>
<span><span class="va">age_groups</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"young"</span>, <span class="st">"middle"</span>, <span class="st">"old"</span><span class="op">)</span></span>
<span><span class="va">age_stratified</span> <span class="op">&lt;-</span> <span class="fu">stratify_diagram</span><span class="op">(</span><span class="va">diagram</span>,</span>
<span>  types <span class="op">=</span> <span class="va">age_groups</span>,</span>
<span>  type_assignment <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>S <span class="op">=</span> <span class="st">"young"</span>, I <span class="op">=</span> <span class="st">"middle"</span>, R <span class="op">=</span> <span class="st">"old"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rich-visualization">Rich Visualization<a class="anchor" aria-label="anchor" href="#rich-visualization"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Diagram structure</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">diagram</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Graphviz export</span></span>
<span><span class="va">dot_str</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/to_graphviz.html">to_graphviz</a></span><span class="op">(</span><span class="va">diagram</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># With ggraph</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com" class="external-link">ggraph</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">diagram</span>, layout <span class="op">=</span> <span class="st">"sugiyama"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Solution plots</span></span>
<span><span class="fu"><a href="reference/plot_solution.html">plot_solution</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/phase_plot.html">phase_plot</a></span><span class="op">(</span><span class="va">result</span>, <span class="st">"S"</span>, <span class="st">"I"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="mathematical-foundation">Mathematical Foundation<a class="anchor" aria-label="anchor" href="#mathematical-foundation"></a>
</h2>
<p>Stock-flow diagrams are <strong>functors</strong> F: H ‚Üí <strong>FinSet</strong> from a primitive category H to finite sets, where:</p>
<ul>
<li>
<strong>Objects</strong>: {stock, flow, link}</li>
<li>
<strong>Morphisms</strong>: u, d: flow ‚Üí stock (upstream/downstream)</li>
</ul>
<p>The <strong>ODE semantics</strong> for a stock œÉ is:</p>
<p>dœÉ/dt = Œ£(inflows) - Œ£(outflows)</p>
<p>See the <a href="https://ianmoran11.github.io/openstockflow/articles/mathematical-foundations-algebraic.html">Mathematical Foundations vignette</a> for details.</p>
</div>
<div class="section level2">
<h2 id="documentation">Documentation<a class="anchor" aria-label="anchor" href="#documentation"></a>
</h2>
<div class="section level3">
<h3 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h3>
<ul>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/quickstart-algebraic.html">Quick Start (Algebraic API)</a></li>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/quickstart.html">Quick Start (Pipe-Based API)</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="detailed-guides">Detailed Guides<a class="anchor" aria-label="anchor" href="#detailed-guides"></a>
</h3>
<ul>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/introduction-algebraic.html">Introduction (Algebraic API)</a></li>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/introduction.html">Introduction (Pipe-Based API)</a></li>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/composition-algebraic.html">Compositional Modeling (Algebraic API)</a></li>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/composition.html">Compositional Modeling (Pipe-Based API)</a></li>
</ul>
</div>
<div class="section level3">
<h3 id="advanced-topics">Advanced Topics<a class="anchor" aria-label="anchor" href="#advanced-topics"></a>
</h3>
<ul>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/mathematical-foundations-algebraic.html">Mathematical Foundations (Algebraic API)</a></li>
<li><a href="https://ianmoran11.github.io/openstockflow/articles/mathematical-foundations.html">Mathematical Foundations (Pipe-Based API)</a></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="sir-epidemic-model">SIR Epidemic Model<a class="anchor" aria-label="anchor" href="#sir-epidemic-model"></a>
</h3>
<p>Classic compartmental model for disease spread.</p>
</div>
<div class="section level3">
<h3 id="seir-with-population-conservation">SEIR with Population Conservation<a class="anchor" aria-label="anchor" href="#seir-with-population-conservation"></a>
</h3>
<p>Adds exposed compartment with conserved total population.</p>
</div>
<div class="section level3">
<h3 id="predator-prey-dynamics">Predator-Prey Dynamics<a class="anchor" aria-label="anchor" href="#predator-prey-dynamics"></a>
</h3>
<p>Lotka-Volterra equations via stock-flow formalism.</p>
</div>
<div class="section level3">
<h3 id="logistic-growth">Logistic Growth<a class="anchor" aria-label="anchor" href="#logistic-growth"></a>
</h3>
<p>Population growth with carrying capacity.</p>
</div>
<div class="section level3">
<h3 id="tank-with-inflowsoutflows">Tank with Inflows/Outflows<a class="anchor" aria-label="anchor" href="#tank-with-inflowsoutflows"></a>
</h3>
<p>Physical system reaching equilibrium.</p>
<p>See the <a href="https://ianmoran11.github.io/openstockflow/articles/">vignettes</a> for complete examples.</p>
</div>
</div>
<div class="section level2">
<h2 id="whats-new-in-v020">What‚Äôs New in v0.2.0<a class="anchor" aria-label="anchor" href="#whats-new-in-v020"></a>
</h2>
<div class="section level3">
<h3 id="automatic-stock-inclusion">Automatic Stock Inclusion<a class="anchor" aria-label="anchor" href="#automatic-stock-inclusion"></a>
</h3>
<p>Stocks referenced in flow connections are now automatically included:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Before (verbose)</span></span>
<span><span class="va">sir</span> <span class="op">&lt;-</span> <span class="va">S</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span> <span class="va">I</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span> <span class="va">R</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>  <span class="op">(</span><span class="va">S</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">infection</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">I</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>  <span class="op">(</span><span class="va">I</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">recovery</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">R</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># After (simplified)</span></span>
<span><span class="va">sir</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">S</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">infection</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">I</span><span class="op">)</span> <span class="op"><a href="reference/grapes-plus-grapes.html">%+%</a></span></span>
<span>       <span class="op">(</span><span class="va">I</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">recovery</span> <span class="op"><a href="reference/grapes-greater-than-grapes.html">%-&gt;%</a></span> <span class="va">R</span><span class="op">)</span></span></code></pre></div>
<p>Fully backward compatible ‚Äî explicit syntax still works!</p>
</div>
</div>
<div class="section level2">
<h2 id="project-status">Project Status<a class="anchor" aria-label="anchor" href="#project-status"></a>
</h2>
<p><strong>Current Status</strong>: v0.2.0 - Automatic Stock Inclusion ‚úì</p>
<div class="section level3">
<h3 id="completed-features">Completed Features<a class="anchor" aria-label="anchor" href="#completed-features"></a>
</h3>
<ul>
<li>‚úÖ S4 class definitions with validation</li>
<li>‚úÖ Primitive category H implementation</li>
<li>‚úÖ Dual API (pipe-based + algebraic)</li>
<li>‚úÖ ODE generation and deSolve integration</li>
<li>‚úÖ Compositional modeling via decorated cospans</li>
<li>‚úÖ Stratification via pullbacks</li>
<li>‚úÖ Visualization (plot, ggraph, Graphviz)</li>
<li>‚úÖ Automatic stock inclusion (v0.2.0)</li>
<li>‚úÖ Comprehensive test suite (233 tests passing)</li>
<li>‚úÖ 8 comprehensive vignettes</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="related-work">Related Work<a class="anchor" aria-label="anchor" href="#related-work"></a>
</h2>
<p>This package is inspired by:</p>
<ul>
<li>
<strong><a href="https://github.com/AlgebraicJulia/StockFlow.jl" class="external-link">StockFlow.jl</a></strong> ‚Äî Julia implementation</li>
<li>
<strong><a href="https://www.algebraicjulia.org" class="external-link">AlgebraicJulia</a></strong> ‚Äî Applied category theory ecosystem</li>
</ul>
<div class="section level3">
<h3 id="key-papers">Key Papers<a class="anchor" aria-label="anchor" href="#key-papers"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p><strong>Baez, J. C., Li, X., Libkind, S., Osgood, N., &amp; Redekopp, E. (2022).</strong> ‚ÄúCompositional Modeling with Stock and Flow Diagrams.‚Äù <em>arXiv:2205.08373v3</em></p></li>
<li><p><strong>Libkind, S., Baas, A., Halter, M., Patterson, E., &amp; Fairbanks, J. (2022).</strong> ‚ÄúA Categorical Framework for Modeling with Stock and Flow Diagrams.‚Äù <em>arXiv:2211.01290v3</em></p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="contributing">Contributing<a class="anchor" aria-label="anchor" href="#contributing"></a>
</h2>
<p>Contributions are welcome! Please feel free to submit a Pull Request.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT ¬© Ian Moran</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>If you use this package in your research, please cite:</p>
<pre><code>@software{openstockflow,
  author = {Moran, Ian},
  title = {openstockflow: Categorical Stock-Flow Modeling in R},
  year = {2025},
  url = {https://github.com/ianmoran11/openstockflow}
}</code></pre>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that this project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ianmoran11/openstockflow/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ianmoran11/openstockflow/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing openstockflow</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Ian Moran <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ianmoran11/openstockflow/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ianmoran11/openstockflow/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/ianmoran11/openstockflow/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/ianmoran11/openstockflow/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ian Moran.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
